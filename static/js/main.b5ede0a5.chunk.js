(this["webpackJsonpreact-movie-watchlist-v1"]=this["webpackJsonpreact-movie-watchlist-v1"]||[]).push([[0],{10:function(e,t,c){e.exports={resultCard:"ResultCard_resultCard__2n4mL",posterWrapper:"ResultCard_posterWrapper__10JfF",fillerPoster:"ResultCard_fillerPoster__19Nf-",info:"ResultCard_info__2Vs-Y",title:"ResultCard_title__3oURj",releaseDate:"ResultCard_releaseDate__3eJm9",controls:"ResultCard_controls__1PSX0",btn:"ResultCard_btn__1K7z8"}},12:function(e,t,c){e.exports={innerContent:"Nav_innerContent__Akakc",navLinks:"Nav_navLinks__31mJI",brand:"Nav_brand__3cffj",navButton:"Nav_navButton__YexG4"}},16:function(e,t,c){e.exports={ctrlBtn:"MovieControls_ctrlBtn__3x8Q6"}},17:function(e,t,c){e.exports={addPage:"Add_addPage__FqdZX",addContent:"Add_addContent__1bAPU",inputWrapper:"Add_inputWrapper__2ZdOi",results:"Add_results__2ybxW"}},34:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(2),s=c.n(n),i=c(27),r=c.n(i),l=(c(34),c(9)),o=c(3),d=c(12),j=c.n(d),h=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("header",{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:j.a.innerContent,children:[Object(a.jsx)(l.b,{to:"/",className:j.a.brand,children:"MY MOVIE DATABASE"}),Object(a.jsxs)("ul",{className:j.a.navLinks,children:[Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/",className:j.a.navButton,children:"WATCHLIST"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/watched",className:j.a.navButton,children:"WATCHED"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/add",className:j.a.navButton,children:"ADD"})})]})]})})})})},u=c(15),b=c(19),O=c(8),v=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(O.a)(Object(O.a)({},e),{},{watchlist:[t.payload].concat(Object(b.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(O.a)(Object(O.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case"ADD_MOVIE_TO_WATCHED":return Object(O.a)(Object(O.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(b.a)(e.watched))});case"MOVE_TO_WATCHLIST":return Object(O.a)(Object(O.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),watchlist:[t.payload].concat(Object(b.a)(e.watchlist))});case"REMOVE_FROM_WATCHED":return Object(O.a)(Object(O.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});default:return e}},m={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},x=Object(n.createContext)(m),_=function(e){var t=Object(n.useReducer)(v,m),c=Object(u.a)(t,2),s=c[0],i=c[1];Object(n.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(s.watchlist)),localStorage.setItem("watched",JSON.stringify(s.watched))}),[s]);return Object(a.jsx)(x.Provider,{value:{watchlist:s.watchlist,watched:s.watched,addMovieToWatchlist:function(e){i({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatchlist:function(e){i({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},addMovieToWatched:function(e){i({type:"ADD_MOVIE_TO_WATCHED",payload:e})},moveToWatchlist:function(e){i({type:"MOVE_TO_WATCHLIST",payload:e})},removeFromWatched:function(e){i({type:"REMOVE_FROM_WATCHED",payload:e})}},children:e.children})},p=c(24),f=c(25),N=c(16),g=c.n(N),C=function(e){var t=e.movie,c=e.type,s=Object(n.useContext)(x),i=s.removeMovieFromWatchlist,r=s.addMovieToWatched,l=s.moveToWatchlist,o=s.removeFromWatched;return Object(a.jsxs)("div",{className:"innerCardControls",children:["watchlist"===c&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:g.a.ctrlBtn,onClick:function(){r(t)},children:Object(a.jsx)(p.a,{})}),Object(a.jsx)("button",{className:g.a.ctrlBtn,onClick:function(){return i(t.id)},children:Object(a.jsx)(f.a,{})})]}),"watched"===c&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:g.a.ctrlBtn,onClick:function(){l(t)},children:Object(a.jsx)(p.b,{})}),Object(a.jsx)("button",{className:g.a.ctrlBtn,onClick:function(){return o(t.id)},children:Object(a.jsx)(f.a,{})})]})]})},w=function(e){var t=e.movie,c=e.type;return Object(a.jsxs)("div",{className:"movieCard",children:[Object(a.jsx)("div",{className:"overlay"}),Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}),Object(a.jsx)(C,{type:c,movie:t})]})},M=function(){var e=Object(n.useContext)(x).watched;return Object(a.jsx)("div",{className:"moviePage",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"pageHeader",children:[Object(a.jsx)("h1",{children:"Watched Movies"}),Object(a.jsxs)("span",{className:"count",children:[e.length," ",1==e.length?"Movie":"Movies"]})]}),e.length>0?Object(a.jsx)("div",{className:"movieGrid",children:e.map((function(e){return Object(a.jsx)(w,{movie:e,type:"watched"})}))}):Object(a.jsx)("h2",{className:"noMovies",children:"No movies in your watched list, go add some!"})]})})},T=function(){var e=Object(n.useContext)(x).watchlist;return Object(a.jsx)("div",{className:"moviePage",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"pageHeader",children:[Object(a.jsx)("h1",{children:"My Watchlist"}),Object(a.jsxs)("span",{className:"count",children:[e.length," ",1==e.length?"Movie":"Movies"]})]}),e.length>0?Object(a.jsx)("div",{className:"movieGrid",children:e.map((function(e){return Object(a.jsx)(w,{movie:e,type:"watchlist"})}))}):Object(a.jsx)("h2",{className:"noMovies",children:"No movies in your watchlist, go add some!"})]})})},y=c(10),W=c.n(y),A=function(e){var t=e.movie,c=Object(n.useContext)(x),s=c.addMovieToWatchlist,i=c.addMovieToWatched,r=c.watchlist,l=c.watched,o=r.find((function(e){return e.id===t.id})),d=l.find((function(e){return e.id===t.id})),j=!(!o&&!d),h=!!d;return Object(a.jsxs)("div",{className:W.a.resultCard,children:[Object(a.jsx)("div",{className:W.a.posterWrapper,children:t.poster_path?Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(a.jsx)("div",{className:W.a.fillerPoster})}),Object(a.jsxs)("div",{className:W.a.info,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:W.a.title,children:t.title}),Object(a.jsx)("h4",{className:W.a.releaseDate,children:t.release_date?t.release_date.substring(0,4):"-"})]}),Object(a.jsxs)("div",{className:W.a.controls,children:[Object(a.jsx)("button",{className:W.a.btn,disabled:j,onClick:function(){return s(t)},children:"Add to Watchlist"}),Object(a.jsx)("button",{className:W.a.btn,disabled:h,onClick:function(){return i(t)},children:"Add to Watched"})]})]})]})},E=c(17),S=c.n(E),I=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)([]),r=Object(u.a)(i,2),l=r[0],o=r[1];return Object(a.jsx)("div",{className:S.a.addPage,children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:S.a.addContent,children:[Object(a.jsx)("div",{className:S.a.inputWrapper,children:Object(a.jsx)("input",{type:"text",placeholder:"Search for a movie",value:c,onChange:function(e){e.preventDefault(),s(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("398f4afbe998073c17f9f3c74f8830d6","&language=en-US&page=1&include_adult=false&query=").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?o([]):o(e.results)}))}})}),l.length>0&&Object(a.jsx)("ul",{className:S.a.results,children:l.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(A,{movie:e})},e.id)}))})]})})})};c(40);var D=function(){return Object(a.jsx)(_,{children:Object(a.jsxs)(l.a,{children:[Object(a.jsx)(h,{}),Object(a.jsxs)(o.b,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",children:Object(a.jsx)(T,{})}),Object(a.jsx)(l.a,{path:"/watched",children:Object(a.jsx)(M,{})}),Object(a.jsx)(l.a,{path:"/add",children:Object(a.jsx)(I,{})})]})]})})},R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,42)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(D,{})}),document.getElementById("root")),R()}},[[41,1,2]]]);
//# sourceMappingURL=main.b5ede0a5.chunk.js.map